
{# Remove block and set. nav_items should be passed from the Flask view, not set in the partial. #}

<!-- Link header CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/_header.css') }}">

<!--Top Banner-->
<div class="top-banner">
    Get 20% Cash Back <a href="#" onclick="return false;">Click Here</a>
</div>

<!--Header--> 
<header class="header">
    <div class="header-container">
        <a href="#" class="logo" onclick="return false;">SHOP.CO</a>
        
        <nav class="nav">
            {% for item in nav_items %}
            <div class="nav-item">
                <a href="#" class="nav-link{% if item.bold %} nav-link-bold{% endif %}{% if item.active %} active{% endif %}" onclick="return false;">
                    {{ item.name }}
                </a>
                {% if item.dropdown %}
                <div class="dropdown">
                    <div class="dropdown-content">
                        <div class="dropdown-section">
                            {% for category in item.dropdown.categories %}
                            <div class="dropdown-list">
                                <li>
                                    <a href="#" class="category-link" data-category="{{ category|lower|replace(' ', '-') }}" data-category-label="{{ category }}" data-nav="{{ item.name|lower }}" onclick="return false;">{{ category }}</a>
                                </li>
                            </div>
                            {% endfor %}
                            <div class="shop-all-link">
                                <a href="{% if item.name == 'Clothing' %}{{ url_for('shop_all_clothing') }}{% elif item.name == 'Shoes' %}{{ url_for('shop_all_shoes') }}{% elif item.name == 'Accessories' %}{{ url_for('shop_all_accessories') }}{% else %}#{% endif %}" {% if item.name == 'Clothing' or item.name == 'Shoes' or item.name == 'Accessories' %}onclick=""{% else %}onclick="return false;"{% endif %}>
                                    SHOP ALL {{ item.name|upper }}
                                    <span>→</span>
                                </a>
                            </div>
                        </div>
                        {% for section in item.dropdown.sections %}
                        <div class="dropdown-section">
                            {% if section.title %}
                            <div class="dropdown-header" id="category-section-title-{{ item.name|lower }}">
                                {{ section.title }}
                                <span>→</span>
                            </div>
                            {% endif %}
                            <ul class="dropdown-list" data-section-title="{{ section.title|lower }}-{{ item.name|lower }}">
                                {% for subitem in section.subitems %}
                                <li><a href="#" onclick="return false;">{{ subitem }}</a></li>
                                {% endfor %}
                            </ul>
                        </div>
                        {% endfor %}
                        {% if item.dropdown.promo %}
                        <div class="dropdown-section">
                            <div class="promo-section">
                                <h3>{{ item.dropdown.promo.title }}</h3>
                                <p><strong>{{ item.dropdown.promo.subtitle }}</strong></p>
                                <p>{{ item.dropdown.promo.description }}</p>
                                <button class="promo-btn">{{ item.dropdown.promo.button }} →</button>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </nav>
        
        <div class="header-actions">
            <div class="search-container">
                                <input type="text" class="search-input" placeholder="Search for products...">
                                <span class="search-icon">
                                    <!-- Lucide Search Icon -->
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <circle cx="11" cy="11" r="8" />
                                        <line x1="21" y1="21" x2="16.65" y2="16.65" />
                                    </svg>
                                </span>
            </div>
            
            <button class="icon-btn cart-btn" aria-label="Cart">
                                <!-- Lucide Shopping Cart Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <circle cx="8" cy="21" r="1" />
                                    <circle cx="19" cy="21" r="1" />
                                    <path d="M2 2h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7A1 1 0 007.5 17h9a1 1 0 00.85-1.53L17 13M7 13V6a1 1 0 011-1h6a1 1 0 011 1v7" />
                                </svg>
                <span class="cart-count">2</span>
            </button>

            <button class="icon-btn" aria-label="Wishlist">
                                <!-- Lucide Heart Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
                                </svg>
            </button>

            <div class="profile-dropdown-wrapper" style="position: relative;">
                <button class="icon-btn profile-btn" id="profileBtn" aria-haspopup="true" aria-expanded="false" aria-label="Profile">
                                <!-- Lucide User Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="8" r="4" />
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                                </svg>
                </button>
                <div class="profile-dropdown" id="profileDropdown" style="display: none; position: absolute; right: 0; top: 120%; min-width: 180px; background: #fff; border: 1px solid #e1e8ed; border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.12); z-index: 1200; overflow: hidden;">
                    <div style="border-top: 1px solid #f3f4f6;"></div>
                            <a href="{{ url_for('buyer_my_account') }}" class="profile-dropdown-item" style="display: block; padding: 14px 22px; color: #374151; text-decoration: none; font-weight: 500; font-size: 15px; transition: background 0.2s;">My Account</a>
                            <a href="{{ url_for('buyer_my_purchase') }}" class="profile-dropdown-item" style="display: block; padding: 14px 22px; color: #374151; text-decoration: none; font-weight: 500; font-size: 15px; transition: background 0.2s;">My Purchases</a>
                            <a href="#" class="profile-dropdown-item" style="display: block; padding: 14px 22px; color: #ef4444; text-decoration: none; font-weight: 600; font-size: 15px; transition: background 0.2s;" onclick="return false;">Logout</a>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Link header JS -->
<script src="{{ url_for('static', filename='js/_header.js') }}"></script>

